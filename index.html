<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MEDIAHUB ‚Äî Interstellar</title>
<style>
/* ============================================================
   FONTS
   ============================================================ */
@import url('https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,200;0,300;0,400;0,600;0,700;1,300&family=Share+Tech+Mono&display=swap');

/* ============================================================
   TOKENS
   ============================================================ */
:root {
  --black:        #000000;
  --deep:         #050608;
  --hull:         #0c0d0f;
  --panel:        #111315;
  --panel-lite:   #191b1f;
  --dust:         #1e2024;
  --text:         #c8cdd4;
  --text-dim:     #5c6470;
  --text-hi:      #eef0f3;
  --amber:        #e8a838;
  --amber-glow:   rgba(232,168,56,.35);
  --amber-soft:   rgba(232,168,56,.12);
  --white-glow:   rgba(255,255,255,.18);
  --ring-white:   rgba(255,250,240,.92);
  --accretion:    #f4c97a;
  --accretion2:   #f07830;
  --accretion3:   #c04020;
  --horizon:      #1a0e06;
}

/* ============================================================
   RESET
   ============================================================ */
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  font-family:'Exo 2',sans-serif;
  background:var(--deep);
  color:var(--text);
  min-height:100vh;
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
}
a{color:inherit;text-decoration:none}
button{font-family:inherit;cursor:pointer}
input{font-family:'Share Tech Mono',monospace}

/* ============================================================
   STARFIELD  (fixed canvas layer)
   ============================================================ */
#starCanvas{
  position:fixed;inset:0;z-index:0;
  pointer-events:none;
}

/* ============================================================
   HERO ‚Äî Gargantua + Endurance silhouette
   ============================================================ */
.hero{
  position:relative;
  z-index:1;
  width:100%;
  height:340px;
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
}
/* subtle gradient floor so content below fades in */
.hero::after{
  content:'';
  position:absolute;inset:0;
  background:linear-gradient(to bottom, transparent 40%, var(--deep) 100%);
  z-index:2;
  pointer-events:none;
}

/* Gargantua container */
.gargantua-wrap{
  position:absolute;
  width:320px;height:320px;
  top:50%;left:50%;
  transform:translate(-50%,-50%);
  z-index:1;
}
/* accretion disk ‚Äî flat ring behind the hole */
.accretion-disk{
  position:absolute;inset:0;
  border-radius:50%;
  background:conic-gradient(
    from 0deg,
    transparent 0deg,
    var(--accretion3) 30deg,
    var(--accretion2) 60deg,
    var(--accretion) 90deg,
    #fff8e0 120deg,
    var(--accretion) 150deg,
    var(--accretion2) 200deg,
    var(--accretion3) 250deg,
    transparent 310deg,
    transparent 360deg
  );
  animation:spinDisk 90s linear infinite;
  filter:blur(2px);
  opacity:.85;
}
/* inner bright ring */
.accretion-inner{
  position:absolute;
  inset:18%;
  border-radius:50%;
  background:conic-gradient(
    from 180deg,
    transparent 0deg,
    rgba(244,201,122,.6) 40deg,
    rgba(255,250,240,.9) 90deg,
    rgba(244,201,122,.5) 140deg,
    transparent 200deg,
    transparent 360deg
  );
  animation:spinDisk 60s linear infinite reverse;
  filter:blur(1px);
}
/* the event horizon ‚Äî solid dark circle on top */
.event-horizon{
  position:absolute;
  inset:16%;
  border-radius:50%;
  background:radial-gradient(circle at 40% 40%,
    rgba(30,20,10,.3) 0%,
    var(--black) 60%
  );
  z-index:2;
  box-shadow:
    0  0 40px 12px rgba(0,0,0,.9),
    0  0 80px 30px rgba(0,0,0,.7);
}
/* gravitational lensing glow around horizon */
.lens-glow{
  position:absolute;
  inset:12%;
  border-radius:50%;
  border:3px solid rgba(255,240,200,.22);
  filter:blur(3px);
  z-index:1;
  box-shadow:0 0 30px 6px rgba(255,240,200,.15);
}

@keyframes spinDisk{ to{transform:rotate(360deg)} }

/* Endurance silhouette ‚Äî tiny ship drifting */
.endurance{
  position:absolute;
  z-index:3;
  width:72px;
  opacity:.85;
  animation:drift 28s ease-in-out infinite alternate;
  top:22%;right:18%;
  filter:drop-shadow(0 0 6px rgba(255,240,200,.4));
}
@keyframes drift{
  0%  {transform:translate(0,0) rotate(-2deg)}
  100%{transform:translate(-18px,12px) rotate(2deg)}
}
/* SVG ship inline */
.endurance svg{width:100%;height:auto}

/* hero title overlay */
.hero-text{
  position:absolute;
  z-index:3;
  bottom:48px;
  left:0;right:0;
  text-align:center;
  pointer-events:none;
}
.hero-title{
  font-family:'Exo 2',sans-serif;
  font-weight:200;
  font-size:3.4rem;
  letter-spacing:28px;
  text-transform:uppercase;
  color:var(--text-hi);
  text-shadow:0 0 40px rgba(255,240,200,.25);
}
.hero-sub{
  font-family:'Share Tech Mono',monospace;
  font-size:11px;
  letter-spacing:6px;
  color:var(--text-dim);
  margin-top:6px;
  text-transform:uppercase;
  font-style:italic;
}

/* ============================================================
   MAIN SHELL
   ============================================================ */
.shell{
  position:relative;z-index:1;
  max-width:1320px;
  margin:0 auto;
  padding:0 28px 60px;
}

/* ============================================================
   NAV  ‚Äî horizontal pill bar
   ============================================================ */
.nav{
  display:flex;
  justify-content:center;
  gap:4px;
  padding:0 0 28px;
  position:relative;
}
/* centre line */
.nav::before{
  content:'';
  position:absolute;
  bottom:0;left:0;right:0;height:1px;
  background:linear-gradient(90deg,transparent,var(--dust),transparent);
}
.nav-tab{
  position:relative;
  background:var(--hull);
  border:1px solid var(--dust);
  color:var(--text-dim);
  font-size:12px;
  font-weight:600;
  letter-spacing:4px;
  text-transform:uppercase;
  padding:13px 36px;
  border-radius:2px;
  transition:color .3s,border-color .3s,background .3s,box-shadow .3s;
  overflow:hidden;
}
.nav-tab::before{
  content:'';
  position:absolute;bottom:0;left:0;right:0;height:2px;
  background:var(--amber);
  transform:scaleX(0);
  transition:transform .35s cubic-bezier(.4,0,.2,1);
}
.nav-tab:hover{
  color:var(--text);
  border-color:rgba(232,168,56,.25);
  background:var(--panel);
}
.nav-tab.active{
  color:var(--amber);
  border-color:rgba(232,168,56,.3);
  background:var(--panel);
  box-shadow:0 0 18px var(--amber-soft);
}
.nav-tab.active::before{transform:scaleX(1)}

/* ============================================================
   PANELS
   ============================================================ */
.panel{display:none;animation:panelIn .4s cubic-bezier(.4,0,.2,1)}
.panel.active{display:block}
@keyframes panelIn{
  from{opacity:0;transform:translateY(16px)}
  to  {opacity:1;transform:translateY(0)}
}

/* ============================================================
   SEARCH
   ============================================================ */
.search-row{
  position:relative;
  margin-bottom:20px;
}
.search-row svg{
  position:absolute;left:16px;top:50%;transform:translateY(-50%);
  width:16px;height:16px;stroke:var(--text-dim);fill:none;stroke-width:2;
  transition:stroke .3s;pointer-events:none;
}
.search-row:focus-within svg{stroke:var(--amber)}
.search-box{
  width:100%;
  background:var(--hull);
  border:1px solid var(--dust);
  border-radius:3px;
  padding:14px 18px 14px 42px;
  color:var(--text);
  font-size:13px;
  letter-spacing:.8px;
  outline:none;
  transition:border-color .3s,box-shadow .3s;
}
.search-box:focus{
  border-color:rgba(232,168,56,.35);
  box-shadow:0 0 14px var(--amber-soft);
}
.search-box::placeholder{color:var(--text-dim)}

/* ============================================================
   BREADCRUMB
   ============================================================ */
.breadcrumb{
  display:flex;align-items:center;flex-wrap:wrap;gap:3px;
  font-family:'Share Tech Mono',monospace;
  font-size:11px;
  letter-spacing:1.2px;
  color:var(--text-dim);
  padding:10px 0 18px;
}
.crumb{color:var(--amber);cursor:pointer;transition:color .2s,text-shadow .2s}
.crumb:hover{color:var(--text-hi);text-shadow:0 0 8px var(--amber-glow)}
.crumb-sep{margin:0 4px;color:var(--dust)}
.crumb-current{color:var(--text);font-weight:600}

/* ============================================================
   GRID
   ============================================================ */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(190px,1fr));
  gap:18px;
  padding-bottom:10px;
}

/* ============================================================
   CARD
   ============================================================ */
.card{
  background:var(--hull);
  border:1px solid var(--dust);
  border-radius:4px;
  padding:28px 16px 22px;
  text-align:center;
  cursor:pointer;
  position:relative;
  overflow:hidden;
  transition:transform .28s cubic-bezier(.4,0,.2,1),
             box-shadow .28s,border-color .28s,background .28s;
  /* staggered reveal */
  opacity:0;
  animation:cardIn .45s cubic-bezier(.4,0,.2,1) forwards;
}
@keyframes cardIn{
  from{opacity:0;transform:translateY(18px)}
  to  {opacity:1;transform:translateY(0)}
}
/* top-edge amber shimmer */
.card::after{
  content:'';
  position:absolute;top:0;left:-100%;right:-100%;height:2px;
  background:linear-gradient(90deg,transparent 10%,var(--amber) 50%,transparent 90%);
  opacity:0;
  transition:opacity .35s,left .6s;
}
.card:hover{
  transform:translateY(-4px);
  background:var(--panel);
  border-color:rgba(232,168,56,.28);
  box-shadow:
    0  6px 24px rgba(0,0,0,.45),
    0  0  18px var(--amber-soft);
}
.card:hover::after{opacity:1;left:0}

/* icon circle */
.card-icon{
  width:56px;height:56px;
  margin:0 auto 16px;
  border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:24px;
  position:relative;
}
.card-icon.i-folder{
  background:radial-gradient(circle,rgba(232,168,56,.15),transparent 70%);
  border:1px solid rgba(232,168,56,.22);
  color:var(--amber);
  box-shadow:0 0 14px rgba(232,168,56,.1);
}
.card-icon.i-video{
  background:radial-gradient(circle,rgba(255,180,80,.13),transparent 70%);
  border:1px solid rgba(255,180,80,.2);
  color:#f0a050;
  box-shadow:0 0 14px rgba(255,180,80,.1);
}
.card-icon.i-audio{
  background:radial-gradient(circle,rgba(140,200,255,.12),transparent 70%);
  border:1px solid rgba(140,200,255,.2);
  color:#8cc8ff;
  box-shadow:0 0 14px rgba(140,200,255,.1);
}
.card-icon.i-game{
  background:radial-gradient(circle,rgba(200,140,255,.13),transparent 70%);
  border:1px solid rgba(200,140,255,.2);
  color:#c890ff;
  box-shadow:0 0 14px rgba(200,140,255,.1);
}

.card-name{
  font-size:14px;font-weight:600;
  color:var(--text);
  word-break:break-word;
  line-height:1.35;
  letter-spacing:.3px;
}
.card-tag{
  display:inline-block;margin-top:9px;
  font-family:'Share Tech Mono',monospace;
  font-size:9px;letter-spacing:2.5px;
  text-transform:uppercase;
  color:var(--text-dim);
  background:rgba(255,255,255,.03);
  padding:3px 10px;border-radius:10px;
  border:1px solid var(--dust);
}

/* ============================================================
   EMPTY STATE
   ============================================================ */
.empty{
  grid-column:1/-1;
  text-align:center;
  padding:100px 20px;
}
.empty-ring{
  width:100px;height:100px;
  margin:0 auto 28px;
  border-radius:50%;
  border:1px solid var(--dust);
  display:flex;align-items:center;justify-content:center;
  font-size:38px;opacity:.25;
  position:relative;
}
.empty-ring::before{
  content:'';position:absolute;inset:-6px;border-radius:50%;
  border:1px solid rgba(232,168,56,.1);
  animation:pulse 3s ease-in-out infinite;
}
@keyframes pulse{
  0%,100%{opacity:.3;transform:scale(1)}
  50%{opacity:.7;transform:scale(1.08)}
}
.empty h3{
  font-size:14px;font-weight:600;
  letter-spacing:4px;text-transform:uppercase;
  color:var(--text);margin-bottom:10px;
}
.empty p{
  font-family:'Share Tech Mono',monospace;
  font-size:12px;color:var(--text-dim);
  max-width:460px;margin:0 auto;line-height:1.9;
}
.empty code{
  color:var(--amber);
  background:var(--panel);
  padding:2px 8px;border-radius:3px;
  border:1px solid var(--dust);
}

/* ============================================================
   PLAYER ‚Äî video / game
   ============================================================ */
.player-wrap{display:none;animation:panelIn .35s ease}
.player-wrap.open{display:block}

.back-btn{
  display:inline-flex;align-items:center;gap:10px;
  background:transparent;
  border:1px solid rgba(232,168,56,.3);
  color:var(--amber);
  font-size:11px;font-weight:600;
  letter-spacing:3px;text-transform:uppercase;
  padding:10px 22px;border-radius:2px;
  margin-bottom:20px;
  transition:background .25s,box-shadow .25s;
}
.back-btn:hover{
  background:var(--amber-soft);
  box-shadow:0 0 16px var(--amber-soft);
}
.back-btn svg{width:14px;height:14px;stroke:var(--amber);fill:none;stroke-width:2.5}

.video-wrap{
  background:var(--black);
  border-radius:4px;overflow:hidden;
  border:1px solid var(--dust);
  box-shadow:0 12px 48px rgba(0,0,0,.7);
}
.video-wrap video{width:100%;display:block}

.game-iframe{
  width:100%;height:640px;
  border:1px solid var(--dust);
  border-radius:4px;
  background:var(--black);
  box-shadow:0 12px 48px rgba(0,0,0,.7);
}

.player-title{
  margin-top:16px;
  font-family:'Share Tech Mono',monospace;
  font-size:13px;letter-spacing:3px;
  color:var(--amber);
  text-shadow:0 0 12px var(--amber-glow);
}

/* ============================================================
   AUDIO BAR  (persistent, music tab)
   ============================================================ */
.audio-bar{
  background:var(--hull);
  border:1px solid var(--dust);
  border-radius:4px;
  padding:18px 22px;
  margin-bottom:24px;
  display:flex;align-items:center;gap:20px;
  transition:border-color .4s,box-shadow .4s;
}
.audio-bar.playing{
  border-color:rgba(140,200,255,.3);
  box-shadow:0 0 20px rgba(140,200,255,.1);
}
/* waveform visualiser dots */
.audio-vis{
  display:flex;align-items:flex-end;gap:3px;
  width:24px;height:22px;flex-shrink:0;
}
.audio-vis span{
  flex:1;height:4px;
  background:var(--dust);
  border-radius:1px;
  transition:height .12s,background .3s;
}
.audio-bar.playing .audio-vis span{
  background:#8cc8ff;
  animation:visDance .7s ease-in-out infinite alternate;
}
.audio-bar.playing .audio-vis span:nth-child(2){animation-delay:.12s}
.audio-bar.playing .audio-vis span:nth-child(3){animation-delay:.24s}
@keyframes visDance{
  0% {height:4px}
  100%{height:20px}
}
.audio-info{flex:1;min-width:0}
.audio-label{
  font-family:'Share Tech Mono',monospace;
  font-size:10px;letter-spacing:2.5px;
  text-transform:uppercase;
  color:var(--text-dim);margin-bottom:2px;
}
.audio-title{
  font-size:15px;font-weight:600;
  color:var(--text-hi);
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.audio-bar audio{flex:1;min-width:140px;max-width:320px}

/* ============================================================
   INFO FOOTER
   ============================================================ */
.info-footer{
  margin-top:32px;
  background:var(--hull);
  border:1px solid var(--dust);
  border-left:3px solid rgba(232,168,56,.35);
  border-radius:0 4px 4px 0;
  padding:18px 22px;
}
.info-footer h4{
  font-size:10px;font-weight:700;
  letter-spacing:3.5px;text-transform:uppercase;
  color:var(--amber);margin-bottom:10px;
  display:flex;align-items:center;gap:8px;
}
.info-footer h4 svg{width:13px;height:13px;stroke:var(--amber);fill:none;stroke-width:2}
.info-footer p{
  font-family:'Share Tech Mono',monospace;
  font-size:12px;color:var(--text-dim);
  line-height:2;
}
.info-footer code{
  color:var(--amber);
  background:rgba(232,168,56,.07);
  padding:2px 7px;border-radius:3px;
  border:1px solid var(--dust);
}

/* ============================================================
   RESPONSIVE
   ============================================================ */
@media(max-width:680px){
  .hero{height:240px}
  .gargantua-wrap{width:220px;height:220px}
  .endurance{width:48px;top:18%;right:12%}
  .hero-title{font-size:1.9rem;letter-spacing:14px}
  .nav-tab{padding:10px 22px;font-size:11px;letter-spacing:3px}
  .grid{grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:12px}
  .shell{padding:0 16px 40px}
  .audio-bar{flex-direction:column;align-items:stretch}
}

/* ============================================================
   WORMHOLE TRANSITION  (plays on tab switch)
   ============================================================ */
.wormhole-overlay{
  position:fixed;inset:0;z-index:999;
  pointer-events:none;
  opacity:0;
  transition:opacity .25s;
}
.wormhole-overlay.show{opacity:1}
.wormhole-overlay canvas{width:100%;height:100%}
</style>
</head>
<body>

<!-- ‚îÄ‚îÄ‚îÄ STARFIELD ‚îÄ‚îÄ‚îÄ -->
<canvas id="starCanvas"></canvas>

<!-- ‚îÄ‚îÄ‚îÄ WORMHOLE TRANSITION OVERLAY ‚îÄ‚îÄ‚îÄ -->
<div class="wormhole-overlay" id="wormholeOverlay">
  <canvas id="wormholeCanvas" style="width:100%;height:100%"></canvas>
</div>

<!-- ‚îÄ‚îÄ‚îÄ HERO ‚îÄ‚îÄ‚îÄ -->
<section class="hero">
  <!-- Gargantua -->
  <div class="gargantua-wrap">
    <div class="accretion-disk"></div>
    <div class="accretion-inner"></div>
    <div class="lens-glow"></div>
    <div class="event-horizon"></div>
  </div>

  <!-- Endurance ship -->
  <div class="endurance">
    <svg viewBox="0 0 120 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <!-- main spine -->
      <rect x="10" y="26" width="80" height="8" rx="2" fill="#b8b0a0"/>
      <!-- cockpit ring -->
      <circle cx="95" cy="30" r="11" fill="none" stroke="#c8c0b0" stroke-width="2.5"/>
      <circle cx="95" cy="30" r="5" fill="#d0c8b8"/>
      <!-- habitat module -->
      <rect x="16" y="20" width="18" height="20" rx="3" fill="#9a9080"/>
      <!-- solar panels ‚Äî top -->
      <rect x="30" y="5"  width="28" height="12" rx="1" fill="#6a6860" stroke="#8a8880" stroke-width=".8"/>
      <line x1="37" y1="5"  x2="37" y2="17" stroke="#4a4840" stroke-width=".6"/>
      <line x1="44" y1="5"  x2="44" y2="17" stroke="#4a4840" stroke-width=".6"/>
      <line x1="51" y1="5"  x2="51" y2="17" stroke="#4a4840" stroke-width=".6"/>
      <!-- solar panels ‚Äî bottom -->
      <rect x="30" y="43" width="28" height="12" rx="1" fill="#6a6860" stroke="#8a8880" stroke-width=".8"/>
      <line x1="37" y1="43" x2="37" y2="55" stroke="#4a4840" stroke-width=".6"/>
      <line x1="44" y1="43" x2="44" y2="55" stroke="#4a4840" stroke-width=".6"/>
      <line x1="51" y1="43" x2="51" y2="55" stroke="#4a4840" stroke-width=".6"/>
      <!-- engine glow -->
      <ellipse cx="10" cy="30" rx="3" ry="4" fill="#f0c060" opacity=".7" filter="url(#eng)"/>
      <defs><filter id="eng"><feGaussianBlur stdDeviation="2"/></filter></defs>
    </svg>
  </div>

  <!-- title -->
  <div class="hero-text">
    <div class="hero-title">MediaHub</div>
    <div class="hero-sub">Love is the one thing we're capable of perceiving that transcends dimensions of time and space</div>
  </div>
</section>

<!-- ‚îÄ‚îÄ‚îÄ SHELL ‚îÄ‚îÄ‚îÄ -->
<div class="shell">

  <!-- NAV -->
  <nav class="nav">
    <button class="nav-tab active" data-tab="movies" onclick="switchTab('movies',this)">Movies</button>
    <button class="nav-tab"        data-tab="games"  onclick="switchTab('games',this)">Games</button>
    <button class="nav-tab"        data-tab="music"  onclick="switchTab('music',this)">Music</button>
  </nav>

  <!-- ‚ïê‚ïê‚ïê MOVIES ‚ïê‚ïê‚ïê -->
  <div id="panel-movies" class="panel active">
    <div class="search-row">
      <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="7"/><line x1="16.5" y1="16.5" x2="22" y2="22"/></svg>
      <input type="text" class="search-box" id="movieSearch" placeholder="Search movies &amp; shows‚Ä¶" oninput="filterGrid('movieGrid')">
    </div>
    <div class="breadcrumb" id="movieBreadcrumb">
      <span class="crumb" onclick="navigateMovies('')">ORIGIN</span>
    </div>

    <!-- video player -->
    <div class="player-wrap" id="moviePlayer">
      <button class="back-btn" onclick="closeMoviePlayer()">
        <svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"/></svg>
        Return
      </button>
      <div class="video-wrap">
        <video id="videoElement" controls>
          <source id="videoSource" src="" type="video/mp4">
        </video>
      </div>
      <div class="player-title" id="videoTitle"></div>
    </div>

    <!-- browser grid -->
    <div id="movieBrowser">
      <div class="grid" id="movieGrid"></div>
    </div>

    <div class="info-footer">
      <h4><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18"/></svg>Transmission Protocol</h4>
      <p>Films &nbsp;‚Üí&nbsp; <code>Movies/Films/[Genre]/filename.mp4</code><br>
         TV Shows ‚Üí <code>Movies/TV_Shows/[Show]/[Season]/E01.mp4</code><br>
         Formats &nbsp;: MP4 ¬∑ WebM ¬∑ MKV ¬∑ AVI ¬∑ MOV</p>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê GAMES ‚ïê‚ïê‚ïê -->
  <div id="panel-games" class="panel">
    <div class="search-row">
      <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="7"/><line x1="16.5" y1="16.5" x2="22" y2="22"/></svg>
      <input type="text" class="search-box" id="gameSearch" placeholder="Search games‚Ä¶" oninput="filterGrid('gameGrid')">
    </div>
    <div class="breadcrumb" id="gameBreadcrumb">
      <span class="crumb" onclick="navigateGames('')">ORIGIN</span>
    </div>

    <!-- game player -->
    <div class="player-wrap" id="gamePlayer">
      <button class="back-btn" onclick="closeGamePlayer()">
        <svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"/></svg>
        Return
      </button>
      <iframe id="gameFrame" class="game-iframe"></iframe>
      <div class="player-title" id="gameTitle"></div>
    </div>

    <div id="gameBrowser">
      <div class="grid" id="gameGrid"></div>
    </div>

    <div class="info-footer">
      <h4><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18"/></svg>Transmission Protocol</h4>
      <p>HTML5 games ‚Üí <code>Games/[Category]/game.html</code><br>
         Or folder &nbsp;&nbsp;‚Üí <code>Games/[Category]/GameName/index.html</code><br>
         Categories &nbsp;: Action ¬∑ Racing ¬∑ Sports ¬∑ Puzzle ¬∑ Adventure ¬∑ Arcade ¬∑ Strategy ¬∑ Multiplayer</p>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê MUSIC ‚ïê‚ïê‚ïê -->
  <div id="panel-music" class="panel">
    <!-- audio bar -->
    <div class="audio-bar" id="audioBar">
      <div class="audio-vis">
        <span style="height:4px"></span>
        <span style="height:4px"></span>
        <span style="height:4px"></span>
      </div>
      <div class="audio-info">
        <div class="audio-label">Now Playing</div>
        <div class="audio-title" id="audioTitle">‚Äî awaiting signal ‚Äî</div>
      </div>
      <audio id="audioElement" controls>
        <source id="audioSource" src="" type="audio/mpeg">
      </audio>
    </div>

    <div class="search-row">
      <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="7"/><line x1="16.5" y1="16.5" x2="22" y2="22"/></svg>
      <input type="text" class="search-box" id="musicSearch" placeholder="Search music‚Ä¶" oninput="filterGrid('musicGrid')">
    </div>
    <div class="breadcrumb" id="musicBreadcrumb">
      <span class="crumb" onclick="navigateMusic('')">ORIGIN</span>
    </div>

    <div id="musicBrowser">
      <div class="grid" id="musicGrid"></div>
    </div>

    <div class="info-footer">
      <h4><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18"/></svg>Transmission Protocol</h4>
      <p>Audio &nbsp;&nbsp;‚Üí <code>Music/[Genre]/Artist - Song.mp3</code><br>
         Formats &nbsp;: MP3 ¬∑ WAV ¬∑ OGG ¬∑ M4A<br>
         Genres &nbsp;&nbsp;: Rock ¬∑ Pop ¬∑ HipHop ¬∑ Electronic ¬∑ Country ¬∑ Jazz ¬∑ Classical ¬∑ Indie ¬∑ RnB</p>
    </div>
  </div>

</div><!-- /shell -->

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     JAVASCRIPT
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<script>
/* ‚îÄ‚îÄ‚îÄ STARFIELD ‚îÄ‚îÄ‚îÄ */
(function(){
  const c=document.getElementById('starCanvas'),ctx=c.getContext('2d');
  let S=[],W,H;
  function sz(){W=c.width=innerWidth;H=c.height=innerHeight}
  function init(){
    sz();S=[];
    for(let i=0;i<380;i++) S.push({
      x:Math.random()*W, y:Math.random()*H,
      r:Math.random()*1.5+.25,
      a:Math.random()*.5+.1,
      sp:Math.random()*.35+.04
    });
  }
  function draw(){
    ctx.clearRect(0,0,W,H);
    S.forEach(s=>{
      s.a+=s.sp*(Math.random()>.5?1:-1);
      s.a=Math.max(.06,Math.min(.55,s.a));
      ctx.beginPath();
      ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
      ctx.fillStyle=`rgba(${200+~~(Math.random()*30)},${195+~~(Math.random()*25)},${185+~~(Math.random()*30)},${s.a})`;
      ctx.fill();
    });
    requestAnimationFrame(draw);
  }
  addEventListener('resize',init);
  init(); draw();
})();

/* ‚îÄ‚îÄ‚îÄ WORMHOLE TRANSITION ‚îÄ‚îÄ‚îÄ */
(function(){
  const overlay=document.getElementById('wormholeOverlay');
  const canvas =document.getElementById('wormholeCanvas');
  const ctx    =canvas.getContext('2d');
  let anim=null, startT=0, dur=600;

  function resize(){
    canvas.width =innerWidth;
    canvas.height=innerHeight;
  }
  resize();
  addEventListener('resize',resize);

  function frame(t){
    const p=Math.min((t-startT)/dur,1);
    const W=canvas.width,H=canvas.height;
    const cx=W/2,cy=H/2;
    ctx.clearRect(0,0,W,H);

    // dark base
    ctx.fillStyle='rgba(0,0,0,'+(1-p*.6)+')';
    ctx.fillRect(0,0,W,H);

    // concentric rings radiating out
    const rings=6;
    for(let i=0;i<rings;i++){
      const phase=(p*3+i/rings)%1;
      const r=phase*Math.max(W,H)*.7;
      const alpha=(1-phase)*0.35;
      ctx.beginPath();
      ctx.arc(cx,cy,r,0,Math.PI*2);
      ctx.strokeStyle=`rgba(232,168,56,${alpha})`;
      ctx.lineWidth=2;
      ctx.stroke();
    }
    // central bright flash
    const flash=Math.max(0,1-p*2.5);
    if(flash>0){
      const g=ctx.createRadialGradient(cx,cy,0,cx,cy,180);
      g.addColorStop(0,`rgba(255,240,200,${flash*.6})`);
      g.addColorStop(.5,`rgba(232,168,56,${flash*.3})`);
      g.addColorStop(1,'transparent');
      ctx.fillStyle=g;
      ctx.fillRect(0,0,W,H);
    }

    if(p<1){
      overlay.classList.add('show');
      anim=requestAnimationFrame(frame);
    } else {
      overlay.classList.remove('show');
      anim=null;
    }
  }

  window.triggerWormhole=function(){
    if(anim) cancelAnimationFrame(anim);
    startT=performance.now();
    anim=requestAnimationFrame(frame);
  };
})();

/* ‚îÄ‚îÄ‚îÄ STATE ‚îÄ‚îÄ‚îÄ */
let currentMoviePath='', currentGamePath='', currentMusicPath='';

/* ‚îÄ‚îÄ‚îÄ DIRECTORY SCANNING ‚îÄ‚îÄ‚îÄ */
async function scanDirectory(basePath,type){
  const s={folders:[],files:[]};
  try{
    const r=await fetch(basePath);
    const t=await r.text();
    const d=new DOMParser().parseFromString(t,'text/html');
    d.querySelectorAll('a').forEach(a=>{
      const h=a.getAttribute('href');
      if(!h||h==='../'||h.startsWith('?'))return;
      if(h.endsWith('/')){s.folders.push(h.slice(0,-1))}
      else{
        const e=h.split('.').pop().toLowerCase();
        if(type==='movies'&&['mp4','mkv','avi','webm','mov','m4v'].includes(e)) s.files.push(h);
        if(type==='music' &&['mp3','wav','ogg','m4a','flac','aac'].includes(e)) s.files.push(h);
        if(type==='games' && e==='html') s.files.push(h);
      }
    });
  }catch(e){}
  return s;
}

/* ‚îÄ‚îÄ‚îÄ FALLBACK STRUCTURE ‚îÄ‚îÄ‚îÄ */
const FS={
  movies:{
    ''                       :{folders:['TV_Shows','Films'],files:[]},
    'TV_Shows'               :{folders:['SouthPark','TheOffice','BreakingBad'],files:[]},
    'TV_Shows/SouthPark'     :{folders:['S1','S2','S3'],files:[]},
    'TV_Shows/SouthPark/S1'  :{folders:[],files:[]},
    'TV_Shows/SouthPark/S2'  :{folders:[],files:[]},
    'TV_Shows/SouthPark/S3'  :{folders:[],files:[]},
    'TV_Shows/TheOffice'     :{folders:['S1','S2'],files:[]},
    'TV_Shows/TheOffice/S1'  :{folders:[],files:[]},
    'TV_Shows/TheOffice/S2'  :{folders:[],files:[]},
    'TV_Shows/BreakingBad'   :{folders:['S1','S2','S3'],files:[]},
    'TV_Shows/BreakingBad/S1':{folders:[],files:[]},
    'TV_Shows/BreakingBad/S2':{folders:[],files:[]},
    'TV_Shows/BreakingBad/S3':{folders:[],files:[]},
    'Films'                  :{folders:['Action','Comedy','Horror','SciFi','Drama','Animation'],files:[]},
    'Films/Action'           :{folders:[],files:[]},
    'Films/Comedy'           :{folders:[],files:[]},
    'Films/Horror'           :{folders:[],files:[]},
    'Films/SciFi'            :{folders:[],files:[]},
    'Films/Drama'            :{folders:[],files:[]},
    'Films/Animation'        :{folders:[],files:[]}
  },
  games:{
    ''           :{folders:['Action','Racing','Sports','Puzzle','Adventure','Arcade','Strategy','Multiplayer'],files:[]},
    'Action'     :{folders:[],files:[]},
    'Racing'     :{folders:[],files:[]},
    'Sports'     :{folders:[],files:[]},
    'Puzzle'     :{folders:[],files:[]},
    'Adventure'  :{folders:[],files:[]},
    'Arcade'     :{folders:[],files:[]},
    'Strategy'   :{folders:[],files:[]},
    'Multiplayer':{folders:[],files:[]}
  },
  music:{
    ''           :{folders:['Rock','Pop','HipHop','Electronic','Country','Jazz','Classical','Indie','RnB'],files:[]},
    'Rock'       :{folders:[],files:[]},
    'Pop'        :{folders:[],files:[]},
    'HipHop'     :{folders:[],files:[]},
    'Electronic' :{folders:[],files:[]},
    'Country'    :{folders:[],files:[]},
    'Jazz'       :{folders:[],files:[]},
    'Classical'  :{folders:[],files:[]},
    'Indie'      :{folders:[],files:[]},
    'RnB'        :{folders:[],files:[]}
  }
};

async function getStructure(type,path){
  const base={movies:'Movies/',games:'Games/',music:'Music/'}[type];
  try{
    const sc=await scanDirectory(base+path,type);
    if(sc.folders.length||sc.files.length) return sc;
  }catch(e){}
  return FS[type][path]||{folders:[],files:[]};
}

/* ‚îÄ‚îÄ‚îÄ TAB SWITCH ‚îÄ‚îÄ‚îÄ */
function switchTab(name,btn){
  document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.nav-tab').forEach(t=>t.classList.remove('active'));
  // wormhole flash
  window.triggerWormhole();
  // slight delay so flash is visible before content swap
  setTimeout(()=>{
    document.getElementById('panel-'+name).classList.add('active');
    btn.classList.add('active');
    if(name==='movies') navigateMovies(currentMoviePath);
    else if(name==='games') navigateGames(currentGamePath);
    else navigateMusic(currentMusicPath);
  },160);
}

/* ‚îÄ‚îÄ‚îÄ BREADCRUMB ‚îÄ‚îÄ‚îÄ */
function buildCrumb(id,path,fn){
  const el=document.getElementById(id);
  const parts=path.split('/').filter(Boolean);
  let html=`<span class="crumb" onclick="${fn}('')">ORIGIN</span>`;
  let built='';
  parts.forEach((p,i)=>{
    built+=(built?'/':'')+p;
    html+=`<span class="crumb-sep">‚Ä∫</span>`;
    if(i===parts.length-1) html+=`<span class="crumb-current">${p}</span>`;
    else html+=`<span class="crumb" onclick="${fn}('${built}')">${p}</span>`;
  });
  el.innerHTML=html;
}

/* ‚îÄ‚îÄ‚îÄ STAGGERED CARD DELAY helper ‚îÄ‚îÄ‚îÄ */
function applyDelay(gridEl){
  gridEl.querySelectorAll('.card').forEach((c,i)=>{
    c.style.animationDelay=(i*.06)+'s';
  });
}

/* ‚îÄ‚îÄ‚îÄ MOVIES ‚îÄ‚îÄ‚îÄ */
async function navigateMovies(path){
  currentMoviePath=path;
  buildCrumb('movieBreadcrumb',path,'navigateMovies');
  closeMoviePlayer();
  const{folders,files}=await getStructure('movies',path);
  let h='';
  folders.forEach(f=>{
    const np=path?path+'/'+f:f;
    h+=`<div class="card" onclick="navigateMovies('${np}')">
      <div class="card-icon i-folder">üìÅ</div>
      <div class="card-name">${f}</div>
      <div class="card-tag">Folder</div></div>`;
  });
  files.forEach(f=>{
    const fp=path?path+'/'+f:f;
    const nm=f.replace(/\.(mp4|mkv|avi|webm|mov|m4v)$/i,'');
    h+=`<div class="card" onclick="playMovie('${fp}','${nm}')">
      <div class="card-icon i-video">‚ñ∂</div>
      <div class="card-name">${nm}</div>
      <div class="card-tag">Video</div></div>`;
  });
  if(!h) h=emptyState('üìÇ','No transmissions received',`Place files in <code>Movies/${path||'‚Ä¶'}</code>`);
  const g=document.getElementById('movieGrid');
  g.innerHTML=h;
  applyDelay(g);
}
function playMovie(path,name){
  document.getElementById('movieBrowser').style.display='none';
  document.getElementById('moviePlayer').classList.add('open');
  document.getElementById('videoSource').src='Movies/'+path;
  document.getElementById('videoElement').load();
  document.getElementById('videoTitle').textContent=name;
}
function closeMoviePlayer(){
  document.getElementById('moviePlayer').classList.remove('open');
  document.getElementById('movieBrowser').style.display='block';
  document.getElementById('videoElement').pause();
}

/* ‚îÄ‚îÄ‚îÄ GAMES ‚îÄ‚îÄ‚îÄ */
async function navigateGames(path){
  currentGamePath=path;
  buildCrumb('gameBreadcrumb',path,'navigateGames');
  closeGamePlayer();
  const{folders,files}=await getStructure('games',path);
  let h='';
  folders.forEach(f=>{
    const np=path?path+'/'+f:f;
    h+=`<div class="card" onclick="navigateGames('${np}')">
      <div class="card-icon i-folder">üìÅ</div>
      <div class="card-name">${f}</div>
      <div class="card-tag">Category</div></div>`;
  });
  files.forEach(f=>{
    const fp=path?path+'/'+f:f;
    const nm=f.replace('.html','').replace('index','Game');
    h+=`<div class="card" onclick="playGame('${fp}','${nm}')">
      <div class="card-icon i-game">‚¨°</div>
      <div class="card-name">${nm}</div>
      <div class="card-tag">HTML5</div></div>`;
  });
  if(!h) h=emptyState('üéÆ','No simulations loaded',`Place games in <code>Games/${path||'‚Ä¶'}</code>`);
  const g=document.getElementById('gameGrid');
  g.innerHTML=h;
  applyDelay(g);
}
function playGame(path,name){
  document.getElementById('gameBrowser').style.display='none';
  document.getElementById('gamePlayer').classList.add('open');
  document.getElementById('gameFrame').src='Games/'+path;
  document.getElementById('gameTitle').textContent=name;
}
function closeGamePlayer(){
  document.getElementById('gamePlayer').classList.remove('open');
  document.getElementById('gameBrowser').style.display='block';
  document.getElementById('gameFrame').src='';
}

/* ‚îÄ‚îÄ‚îÄ MUSIC ‚îÄ‚îÄ‚îÄ */
async function navigateMusic(path){
  currentMusicPath=path;
  buildCrumb('musicBreadcrumb',path,'navigateMusic');
  const{folders,files}=await getStructure('music',path);
  let h='';
  folders.forEach(f=>{
    const np=path?path+'/'+f:f;
    h+=`<div class="card" onclick="navigateMusic('${np}')">
      <div class="card-icon i-folder">üìÅ</div>
      <div class="card-name">${f}</div>
      <div class="card-tag">Genre</div></div>`;
  });
  files.forEach(f=>{
    const fp=path?path+'/'+f:f;
    const nm=f.replace(/\.(mp3|wav|ogg|m4a|flac|aac)$/i,'');
    h+=`<div class="card" onclick="playMusic('${fp}','${nm}')">
      <div class="card-icon i-audio">‚ô´</div>
      <div class="card-name">${nm}</div>
      <div class="card-tag">Audio</div></div>`;
  });
  if(!h) h=emptyState('üéµ','Signal silence',`Place audio in <code>Music/${path||'‚Ä¶'}</code>`);
  const g=document.getElementById('musicGrid');
  g.innerHTML=h;
  applyDelay(g);
}
function playMusic(path,name){
  document.getElementById('audioSource').src='Music/'+path;
  const a=document.getElementById('audioElement');
  a.load(); a.play();
  document.getElementById('audioTitle').textContent=name;
  document.getElementById('audioBar').classList.add('playing');
  a.onended=()=>document.getElementById('audioBar').classList.remove('playing');
}

/* ‚îÄ‚îÄ‚îÄ SEARCH FILTER ‚îÄ‚îÄ‚îÄ */
function filterGrid(gridId){
  const panel=document.getElementById(gridId).closest('.panel');
  const q=panel.querySelector('.search-box').value.toLowerCase();
  document.getElementById(gridId).querySelectorAll('.card').forEach(c=>{
    const match=c.querySelector('.card-name').textContent.toLowerCase().includes(q);
    c.style.display=match?'block':'none';
  });
}

/* ‚îÄ‚îÄ‚îÄ EMPTY STATE HELPER ‚îÄ‚îÄ‚îÄ */
function emptyState(icon,title,msg){
  return`<div class="empty">
    <div class="empty-ring">${icon}</div>
    <h3>${title}</h3>
    <p>${msg}</p>
  </div>`;
}

/* ‚îÄ‚îÄ‚îÄ BOOT ‚îÄ‚îÄ‚îÄ */
window.onload=()=>{
  navigateMovies('');
  console.log('%c  ENDURANCE  ','background:#000;color:#e8a838;font-size:14px;letter-spacing:6px;padding:6px 12px;border:1px solid #e8a838');
};
</script>
</body>
</html>